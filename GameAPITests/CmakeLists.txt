


file(GLOB PROJECT_HEADERS
	"inc/*.h"
)

file(GLOB PROJECT_SOURCES
	"src/*.cpp"
)

source_group("Src" FILES PROJECT_SOURCES)
source_group("Inc" FILES PROJECT_HEADERS)

enable_testing()

add_executable(
  GameAPITests
  ${PROJECT_SOURCES}
  ${PROJECT_HEADERS}
)

target_link_libraries(
  GameAPITests
  GameAPILib
  GTest::gtest_main
  GTest::gmock_main
)

include(GoogleTest)
gtest_discover_tests(GameAPITests)

target_include_directories(GameAPITests
	PUBLIC ${PROJECT_SOURCE_DIR}/GameAPITests/inc
)

set_property(TARGET GameAPITests PROPERTY FOLDER "GameAPI")

set_target_properties(GameAPITests PROPERTIES
                      RUNTIME_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/bin)

install (TARGETS GameAPITests
         RUNTIME DESTINATION ${PROJECT_SOURCE_DIR}/_install
         LIBRARY DESTINATION ${PROJECT_SOURCE_DIR}/_install
)

